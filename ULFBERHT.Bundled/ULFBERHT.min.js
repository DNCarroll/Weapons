function autoBindForms(){for(var t=document.body.Get(function(n){return!Is.NullOrEmpty(n.getAttribute(Binding.Attributes.Auto))}),n=0;n<t.length;n++)Binding.DataContainer.Auto(t[n])}function WindowLoad(n){var t,i,r;document.readyState==="complete"?(t=document.getElementById("progress"),t!=null&&Ajax&&(Ajax.ProgressElement=t),autoBindForms()):window.onload?(i=window.onload,r=function(){var t=document.getElementById("progress");t!=null&&Ajax&&(Ajax.ProgressElement=t);i(n);autoBindForms()},window.onload=r):window.onload=function(){var n=document.getElementById("progress");n!=null&&Ajax&&(Ajax.ProgressElement=n);autoBindForms()}}var ActionEvent=function(){function n(n,t,i,r){this.Cancel=!1;this.ActionType=n;this.Object=t;this.Field=i;this.Value=r}return n}(),DataBinding=function(){function n(n,t,i,r){this.IsEventBinding=!1;this.returnParameters=[];this.Target=null;this.ElementBindingIndex=t;this.DataContainer=n;this.Fields=[];this.Target=i;this.Target&&r&&(r=r.Trim(),this.Target==Binding.Targets.Formatting||this.Target==Binding.Targets.DataSource?r=r.indexOf("return")==-1?"return "+r:r:(this.Target==Binding.Targets.OnFocus||this.Target==Binding.Targets.OnClick||this.Target==Binding.Targets.OnMouseOut||this.Target==Binding.Targets.OnMouseOver)&&(r=r.indexOf("return")==-1?"return "+r:r,this.IsEventBinding=!0),r.indexOf("return ")==0?this.returnBinding(r):(this.Fields.Add(r),this.easyBinding()))}return Object.defineProperty(n.prototype,"DataContainer",{get:function(){return this._dataContainer},set:function(n){this._dataContainer=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Target",{get:function(){return this._target},set:function(n){this._target=n},enumerable:!0,configurable:!0}),n.prototype.Dispose=function(){this.DataContainer=null;this.ElementBindingIndex=null;this.Bind=null;this.Target=null;this.Fields=null;this.returnParameters=null;this.return=null},n.prototype.ExecuteReturn=function(n){if(this.return){var t=[];return this.returnParameters.forEach(function(i){i=="obj"?t.push(n.DataObject):i=="sender"?t.push(n):t.push(n.DataObject[i])}),t.Return(this.return)}return null},n.prototype.HookUpEvent=function(n){switch(this.Target){case Binding.Targets.Checked:Binding.Events.Checked(n,this.DataContainer,this,this.Fields[0]);break;case Binding.Targets.Radio:Binding.Events.Radio(n,this.DataContainer,this,this.Fields[0]);break;case Binding.Targets.Value:if(n.tagName=="INPUT"&&n.type=="text")if(n.datasource){var r=n.datasource,u=this.DataContainer.DataBindings.First(function(t){return t.Target==Binding.Targets.DisplayMember&&t.ElementBindingIndex==n.ElementBindingIndex}),f=this.DataContainer.DataBindings.First(function(t){return t.Target==Binding.Targets.ValueMember&&t.ElementBindingIndex==n.ElementBindingIndex}),t=this.DataContainer.DataBindings.First(function(t){return t.Target==Binding.Targets.DisplayCount&&t.ElementBindingIndex==n.ElementBindingIndex}),i=8;t&&(i=parseInt(t.Fields[0]));AutoSuggest.Hook(n,r,f.Fields[0],u.Fields[0],i)}else Binding.Events.OnChange(n,this.DataContainer,this,this.Fields[0]);else Binding.Events.OnChange(n,this.DataContainer,this,this.Fields[0]);break;case Binding.Targets.Action:this.Fields[0]=="delete"&&Binding.Events.Delete(n,this.DataContainer,this,this.DataContainer.Pks[0])}},n.prototype.returnBinding=function(n){var r=n.match(RegularExpression.StandardBindingPattern),t=n,i,u;if(t.substring(t.length-1)!=";"&&(t+=";"),r)for(i=0;i<r.length;i++)r[i]=="{obj}"?(t=t.replace("{obj}","obj"+i.toString()),this.returnParameters.push("obj")):r[i]=="{sender}"?(t=t.replace("{sender}","obj"+i.toString()),this.returnParameters.push("sender")):(u=r[i].replace("{","").replace("}",""),t=t.replace(r[i],"obj"+i.toString()),this.returnParameters.push(u),this.Fields.push(u));this.return=Binding.Return(t,this.returnParameters.length);this.Target!=Binding.Targets.Formatting&&(this.Bind=function(n){var t=[],i,r;this.returnParameters.forEach(function(i){i=="obj"?t.push(n.DataObject):i=="sender"?t.push(n):t.push(n.DataObject[i])});this.IsEventBinding?n[this.Target]||(r=this.return,n[this.Target]=function(){t.Return(r)}):this.Target==Binding.Targets.DataSource&&this.DataSource!=null?this.setAttribute(this.DataSource,n):(i=t.Return(this.return),this.Target==Binding.Targets.DataSource&&(this.DataSource=i),this.setAttribute(i,n))})},n.prototype.easyBinding=function(){this.Bind=function(n){var t=n.DataObject[this.Fields[0]];this.setAttribute(t,n);this.HookUpEvent(n)}},n.prototype.setAttribute=function(n,t){var o,r,i,f,u,e;switch(this.Target){case Binding.Targets.Value:if(t.tagName=="INPUT"&&t.type=="text"&&(r=this.DataContainer.DataBindings.First(function(n){return n.Target==Binding.Targets.DisplayMember&&n.ElementBindingIndex==t.ElementBindingIndex}),i=this.DataContainer.DataBindings.First(function(n){return n.Target==Binding.Targets.ValueMember&&n.ElementBindingIndex==t.ElementBindingIndex}),i)){var u=t,s=t.datasource,r=this.DataContainer.DataBindings.First(function(n){return n.Target==Binding.Targets.DisplayMember&&n.ElementBindingIndex==t.ElementBindingIndex}),i=this.DataContainer.DataBindings.First(function(n){return n.Target==Binding.Targets.ValueMember&&n.ElementBindingIndex==t.ElementBindingIndex});s&&r&&i&&(o=s.First(function(t){return t[i.Fields[0]]==n}),o&&(u.value=o[r.Fields[0]]));break}t[this.Target]=n;break;case Binding.Targets.DataSource:r=this.DataContainer.DataBindings.First(function(n){return n.Target==Binding.Targets.DisplayMember&&n.ElementBindingIndex==t.ElementBindingIndex});i=this.DataContainer.DataBindings.First(function(n){return n.Target==Binding.Targets.ValueMember&&n.ElementBindingIndex==t.ElementBindingIndex});t.tagName=="SELECT"?(f=t,f.Clear(),r!=null&&i!=null?f.AddOptions(n,i.Fields[0],r.Fields[0],null):f.AddOptionsViaObject(n,null)):t.tagName=="INPUT"&&t.type=="text"&&(t.datasource=n);break;case Binding.Targets.ClassName:t.className=null;t.className=n;break;case Binding.Targets.For:t.setAttribute("for",n);break;case Binding.Targets.InnerHtml:t.innerHTML=n;break;case Binding.Targets.Checked:u=t;u.checked=n?!0:!1;break;case Binding.Targets.Radio:u=t;u.checked=u.value==n?!0:null;break;case Binding.Targets.Href:case Binding.Targets.Src:case Binding.Targets.ID:t[this.Target]=n;break;case Binding.Targets.Formatting:case Binding.Targets.OnMouseOut:case Binding.Targets.OnMouseOver:case Binding.Targets.OnClick:case Binding.Targets.Action:case Binding.Targets.DisplayMember:case Binding.Targets.ValueMember:break;default:if(this.Target.indexOf("-")>-1)e=this.Target.split("-"),e.length>1&&(t.style[e[0]][e[1]]=n);else if(Is.Style(this.Target)){t.style[this.Target]=n;break}else t[this.Target]=n}},n}(),DialogType,DialogPosition,DialogResult,ButtonType,DialogButton,DialogProperties,Dialog,Route,ActionType,Accordion,Ajax,AutoSuggest,Binding,Calendar,Convert,Formatters,Is,KeyPress,Local,RegularExpression,Thing,What,ViewManager;(function(n){n[n.Modal=0]="Modal";n[n.Popup=1]="Popup";n[n.Quick=2]="Quick";n[n.Standard=3]="Standard"})(DialogType||(DialogType={})),function(n){n[n.MiddleOfWindow=0]="MiddleOfWindow";n[n.Below=1]="Below";n[n.Above=2]="Above";n[n.Manual=100]="Manual"}(DialogPosition||(DialogPosition={})),function(n){n[n.No=0]="No";n[n.Yes=1]="Yes";n[n.Ok=2]="Ok"}(DialogResult||(DialogResult={})),function(n){n[n.InputButton=0]="InputButton";n[n.Anchor=1]="Anchor";n[n.ImageButton=2]="ImageButton"}(ButtonType||(ButtonType={}));DialogButton=function(){function n(n,t,i){this.Text=n;this.ClassName=i;this.ButtonType=t==null?ButtonType.InputButton:t}return n}();DialogProperties=function(){function n(n,t,i,r,u,f,e,o){this.DialogType=t;this.Target=i;this.Container=n;this.Container.DialogProperties=this;this.OffSetX=Convert.EmValueToPixelValue(e);this.OffSetY=Convert.EmValueToPixelValue(o);this.IsActive=!1;this.Interval=null;this.Modal=null;this.ModalClass=f;this.HideInterval=r==null?this.DialogType==DialogType.Popup||this.DialogType==DialogType.Quick?Dialog.DefaultHideInterval:-1:r;this.Position=u!=DialogPosition.Manual?u==null&&this.Target==null?DialogPosition.MiddleOfWindow:u==null&&this.Target!=null?DialogPosition.Below:u:DialogPosition.Manual}return n}(),function(n){function s(u,e,o,s,h,c,l,a,v,y){var b,g,rt,k;c=c==null?new DialogButton("Yes",ButtonType.InputButton):c;l=l==null?new DialogButton("No",ButtonType.InputButton):l;o=o==null?"&nbsp;":o;var p="ul".CreateElement(),d="li".CreateElement(),w="div".CreateElement({innerHTML:o});w.Set(v);d.appendChild(w);b="li".CreateElement();g="div".CreateElement({innerHTML:u});b.appendChild(g);var nt="li".CreateElement(),tt="div".CreateElement(),it="ul".CreateElement({width:"100%"});tt.appendChild(it);nt.appendChild(tt);rt="li".CreateElement();k="div".CreateElement();rt.appendChild(k);it.appendChild(rt);k.appendChild(f(e,l,DialogResult.No,p));k.appendChild(f(e,c,DialogResult.Yes,p));r(p);r(it);t(d);i(w,"left",".25em .25em");w.style.borderBottom="1px solid #999";w.style.backgroundColor="#C0C0C0";t(b);i(g,"center","1em 1em");t(nt);i(tt,"left","0em 0em");p.style.border="1px solid #999";p.Set(a);p.appendChild(d);p.appendChild(b);p.appendChild(nt);y==null&&(y=s==null?DialogPosition.MiddleOfWindow:DialogPosition.Below);h==null?n.Show(p,DialogType.Standard,s,null,y):n.Modal(p,h,y,null,s)}function h(u,e,o,s,h,c,l){var y,w,g,nt;h=h==null?new DialogButton("Ok",ButtonType.InputButton):h;e=e==null?"&nbsp;":e;var a="ul".CreateElement(),p="li".CreateElement(),v="div".CreateElement({innerHTML:e});l!=null&&(v.className=l);p.appendChild(v);y="li".CreateElement();w="div".CreateElement({innerHTML:u});y.appendChild(w);var b="li".CreateElement(),k="div".CreateElement(),d="ul".CreateElement({width:"100%"});k.appendChild(d);b.appendChild(k);g="li".CreateElement();nt="div".CreateElement();g.appendChild(nt);d.appendChild(g);nt.appendChild(f(function(){},h,DialogResult.Ok,a));c!=null?a.className=c:(r(a),r(d),t(p),i(v,"left",".25em .25em"),v.style.borderBottom="1px solid #999",v.style.backgroundColor="#C0C0C0",t(y),i(w,"center","1em 1em"),t(b),i(k,"left","0em 0em"),a.style.border="1px solid #999");a.appendChild(p);a.appendChild(y);a.appendChild(b);s==null?n.Show(a,DialogType.Standard,o,null,o==null?DialogPosition.MiddleOfWindow:DialogPosition.Below):n.Modal(a,s,o==null?DialogPosition.MiddleOfWindow:DialogPosition.Below,null,o)}function r(n){n.style.display="table";n.style.borderCollapse="collapse";n.style.listStyleType="none";n.style.margin="0px 0px";n.style.padding="0px 0px";n.style.backgroundColor="#fff"}function t(n){n.style.display="table-row";n.style.listStyle="none"}function i(n,t,i){n.style.display="table-cell";n.style.verticalAlign="middle";n.style.textAlign=t;n.style.padding=i}function f(t,i,r,u,f){var e;switch(i.ButtonType){case ButtonType.Anchor:e="a".CreateElement({innerHTML:i.Text.toString()});break;case ButtonType.InputButton:e="input".CreateElement({type:"button",value:i.Text.toString()})}return i.ClassName&&(e.className=i.ClassName.toString()),i=null,e.onclick=function(){t(r);n.Hide(u)},f==null&&(e.style.margin=".5em .5em",e.style.cssFloat=r==DialogResult.No?"left":"right"),e}function c(n,t,i,r){u(n,DialogType.Popup,t,r,i)}function l(n,t,i,r,f){u(n,DialogType.Modal,f,r,i,t)}function a(t,i,r){u(t,DialogType.Quick,i,n.DefaultHideInterval,r)}function e(t){var i=t.Container,r;t.DialogType==DialogType.Modal&&(r=window.Dimensions(),t.Modal="div".CreateElement({cls:t.ModalClass}),t.Modal.style.height=r.Height.toString()+"px",t.Modal.style.display="block",t.Modal.style.left="0px",t.Modal.style.top="0px",t.Modal.style.width=r.Width.toString()+"px",t.Modal.style.position="absolute",document.body.appendChild(t.Modal));document.body.appendChild(i);o(i,t);t.HideInterval>-1&&(i.AddListener("onmouseover",function(){t.IsActive=!0}),i.AddListener("onmouseout",function(){t.IsActive=!1}),t.Interval=setInterval(function(){t.IsActive||n.Hide(i)},t.HideInterval))}function u(n,t,i,r,u,f){var o=n.OffSetX?n.OffSetX:"0",s=n.OffSetY?n.OffSetY:"0",h=new DialogProperties(n,t,i,r,u,f,o,s);e(h)}function o(n,t){var r=0,u=0,f=n.Dimensions(),e,i;switch(t.Position){case DialogPosition.MiddleOfWindow:e=window.Dimensions();u=(e.Height-f.height)/2;r=(e.Width-f.width)/2;break;case DialogPosition.Below:i=t.Target.DimAndOff();u=i.Top+i.Height;r=i.Left;break;case DialogPosition.Above:i=t.Target.DimAndOff();u=i.Top-f.height;r=i.Left}t.Position!=DialogPosition.Manual&&(t.OffSetX&&(r+=t.OffSetX),t.OffSetY&&(u+=t.OffSetY),n.style.left=r.toString()+"px",n.style.top=u.toString()+"px",n.style.position="absolute")}function v(n){var i,r,t;Is.String(n)?(r=n,i=r.Element()):Is.Element(n)&&(i=n);i&&(t=i.DialogProperties,t!=null&&(t.HideInterval>-1&&clearInterval(t.Interval),t.Modal&&t.Modal.Remove()),i.Remove())}n.Confirm=s;n.Ok=h;n.DefaultHideInterval=1500;n.Popup=c;n.Modal=l;n.Quick=a;n.Standard=e;n.Show=u;n.SetPosition=o;n.Hide=v}(Dialog||(Dialog={}));Route=function(){function n(n,t,i){this.Key=n;this.Parameters=t;this.View=i}return n.prototype.Show=function(){var n="RouteKey"+this.Key.toString(),t=sessionStorage.getItem(n),r=this.SetHTML,i=this.View,u=this;!t||window.IsDebug?Ajax.Html(this.View.ViewUrl,function(t){t&&(i.Preload(this),sessionStorage.setItem(n,t),r(t,i,u))}):this.SetHTML(t,this.View,this)},n.prototype.SetHTML=function(n,t,i){var u,r;for(t.Preload(this),t.Container.innerHTML=n,u=t.Container.Get(function(n){return!Is.NullOrEmpty(n.getAttribute(Binding.Attributes.Auto))}),r=0;r<u.length;r++)Binding.DataContainer.Auto(u[r]);t.Loaded&&t.Loaded(i)},n}(),function(n){n[n.Deleted=0]="Deleted";n[n.Deleting=1]="Deleting";n[n.Inserted=2]="Inserted";n[n.Inserting=3]="Inserting";n[n.Updated=4]="Updated";n[n.Updating=5]="Updating"}(ActionType||(ActionType={})),function(n){function t(t,i){i||(i=".accordion");var r=t.Get(function(n){return!Is.NullOrEmpty(n.getAttribute("data-accordion"))});r.forEach(function(t){t.className=null;t.className=n.MaximumClass(t,i)})}function i(t,i){for(var f,e=i+" input:checked ~ article.Max"+t.id,r=null,o=n.GetStyleSheet("mainSheet"),s=n.GetStyleSheetRules(o),u=0;u<s.length;u++)f=s[u],f.selectorText.indexOf(e)>-1&&(r=f.style,r.height=t.style.maxHeight);return r||o.insertRule(e+"{ height:"+t.style.maxHeight+"}",0),"Max"+t.id}function r(n){for(var i,t=0;t<document.styleSheets.length;t++)if(i=document.styleSheets[t],i.title==n)return i}function u(n){var t=document.all?"rules":"cssRules";return n[t]}n.Hook=t;n.MaximumClass=i;n.GetStyleSheet=r;n.GetStyleSheetRules=u}(Accordion||(Accordion={})),function(n){function u(){for(var u,f,t,i=[],r=0;r<arguments.length;r++)i[+r]=arguments[r];for(u=window.SplitPathName()[0].toLowerCase(),f=window.location.href.replace(window.location.pathname,""),t=0;t<i.length;t++)if(i[t].toLowerCase()==u){n.Host=f+"/"+i[t];!0;break}}function t(u){var o,f,e,s;if(Is.Array(u))for(o=0;o<u.length;o++){if(f=u[o],f){try{e==null&&(e=n.getKeyMap(f))}catch(h){window.Exception&&window.Exception(h)}n.setValues(f,e)}for(s in f)n.ConvertProperties(f[s])}else if(Is.Object(u)){e=i(u);r(u,e);for(s in u)t(u[s])}}function i(n){var r=[],i,t;for(i in n)t=n[i],t&&Is.String(t)&&(t=t.Trim(),t.indexOf("/Date(")==0||t.indexOf("Date(")==0?r.push({Key:i,Type:"Date"}):t.match(RegularExpression.UTCDate)?r.push({Key:i,Type:"UTCDate"}):t.match(RegularExpression.ZDate)&&r.push({Key:i,Type:"ZDate"}));return r}function f(t){t.readyState==4&&(n.HideProgress(),t.status==404?window.Exception&&window.Exception("404 file not found.",t):t.status==500?window.Exception&&window.Exception("500 error.",t):window.Exception&&window.Exception("Unhandled status:"+t.status,t))}function e(){if(n.ProgressElement!=null&&(n.ProgressElement.style.display="none"),n.DisableElement)if(Is.Array(n.DisableElement))for(var t=0;t<n.DisableElement.length;t++)n.DisableElement[t].removeAttribute("disabled");else n.DisableElement.removeAttribute("disabled")}function r(t,i){for(var u,o,f=0;f<i.length;f++){var e=i[f].Key,s=i[f].Type,r=t[e];switch(s){case"Date":r?(r=r.substring(6),r=r.replace(")/",""),r=parseInt(r),r>-621355752e5?(r=new Date(r),t[e]=r):delete t[e]):t[e]=new Date;break;case"UTCDate":case"ZDate":u=new Date(r);n.UseAsDateUTC?u=new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()):Is.Chrome()&&(o=(new Date).getTimezoneOffset(),u=u.Add(0,0,0,0,o));t[e]=u}}}function o(){if(n.ProgressElement&&(n.ProgressElement.style.display="inline"),n.DisableElement)if(Is.Array(n.DisableElement))for(var t=0;t<n.DisableElement.length;t++)n.DisableElement[t].setAttribute("disabled","disabled");else n.DisableElement.setAttribute("disabled","disabled")}function s(t,i,r,u,f){var h=i,e,s,c,o;if(n.ShowProgress(),i.indexOf("http")==-1&&n.Host!=""&&(h=n.Host+(i.indexOf("/")==0?i:"/"+i)),e=new XMLHttpRequest,e){if(e.onreadystatechange=function(){e.readyState==4&&(e.status==200||e.status==204)?(n.HideProgress(),u(e.responseText)):n.HandleOtherStates(e)},e.open(t,h,!0),f&&e.setRequestHeader("content-type",Is.FireFox()?"application/json;q=0.9":f),n.DefaultHeader!=null&&(s=n.DefaultHeader(h),s))for(c in s)e.setRequestHeader(c,s[c]);try{r?f=="application/json; charset=utf-8"?(o=JSON.stringify(r),o=o.replace(/\\\"__type\\\"\:\\\"[\w+\.?]+\\\"\,/g,""),o=o.replace(/\"__type\"\:\"[\w+\.?]+\"\,/g,""),o=o.replace(/<script/ig,""),o=o.replace(/script>/ig,""),e.send(o)):e.send(r):e.send()}catch(l){n.HideProgress();window.Exception&&window.Exception(l)}}}function h(t,i,r,u,f){var e=function(t){if(u){var i=t;if(!f&&!Is.NullOrEmpty(i))try{i=JSON.parse(i);i.d&&(i=i.d);n.AutoConvert&&n.ConvertProperties(i)}catch(r){window.Exception&&window.Exception(r)}u(i)}};n.Submit(t,i,r,e,"application/json; charset=utf-8")}function c(t,i){var r=sessionStorage.getItem(t);r?i(r):n.HttpAction("GET",t,{},function(n){sessionStorage.setItem(t,n);i(n)},!0)}n.Host="";n.UseAsDateUTC=!1;n.AutoConvert=!0;n.ProgressElement=null;n.DisableElement=null;n.DefaultHeader;n.Resolver=u;n.ConvertProperties=t;n.getKeyMap=i;n.HandleOtherStates=f;n.HideProgress=e;n.setValues=r;n.ShowProgress=o;n.Submit=s;n.HttpAction=h;n.Html=c}(Ajax||(Ajax={})),function(n){function i(n){var u,t=null,f=!0,i;window.event?(u=n.keyCode,t=window.event.srcElement,f=n.shiftKey):n&&(u=n.which,t=n.srcElement,f=n.shiftKey);t.hidelist=!1;i=t.value?t.value:"";u!=13&&(u!=8?i+=String.fromCharCode(u):i=i.substring(0,i.length-1));!f&&t&&r(t,i)}function f(n){var i=null,s,e;window.event?i=window.event.srcElement:n&&(i=n.srcElement);t(i);var h=i.datasource,f=i.DataObject,o=i.DataContainer,u=i.SelectedValue,e=h.First(function(n){return n[i.valuemember]==u}),c=i.DataContainer.DataBindings.First(function(n){return n.ElementBindingIndex==i.ElementBindingIndex&&n.Target==Binding.Targets.Value}),r=c.Fields[0];u?c&&f&&(s=new ActionEvent(ActionType.Updating,f,r,u),o.ActionEvent(s),s.Cancel?(e=h.First(function(n){return n[r]==f[r]}),e&&(u=e[i.displaymember],i.value=u),o.Rebind(r,i)):(Binding.Events.SetObjectValue(f,r,u),o.WebApi&&o.WebApi.Put(f,function(n){n&&Is.Property(r,n)&&(u=n[r],e=h.First(function(n){return n[i.valuemember]==u}),e&&(u=e[i.displaymember],i.value=u),Binding.Events.SetObjectValue(f,r,n[r].toString()),Thing.Merge(n,f),o.Rebind(r,i),s=new ActionEvent(ActionType.Updated,f,r,f[r]),o.ActionEvent(s))},function(n){window.Exception&&window.Exception(n,"WebApi Post:"+o.WebApi,"Field:"+r)})),s=null):(e=h.First(function(n){return n[i.valuemember]==f[r]}),e&&(u=e[i.displaymember],i.value=u),o.Rebind(r,i))}function t(n){n.hidelist=!0;setTimeout(function(){if(n.hidelist){var t=n.AutocompleteList;n.AutocompleteList=null;t&&t.Remove()}},250)}function r(n,i){var f,c,s,l;i=i.toLowerCase();var h=n.datasource,e=n.displaymember,a=n.valuemember,o=n.displaycount?n.displaycount:8,r=n.AutocompleteList;r||(r="select".CreateElement({position:"absolute"}),n.AutocompleteList=r,document.body.appendChild(r),r.onchange=function(){u(n,r);n.hidelist=!0;n.AutocompleteList=null;r.Remove()},r.onmouseover=function(){n.hidelist=!1},r.onmouseout=function(){t(n)});r.options.length=0;f=h.Where(function(n){return n[e].toLowerCase().indexOf(i)>-1}).Take(o);f.length<o&&(f=h);c=f.First(function(n){return n[e].toLowerCase()==i||n[e].toLowerCase().indexOf(i)>-1});f.forEach(function(n){return r.options[r.options.length]=new Option(n[e],n[a],!1,n==c)});r.options.length>0?(s=n.DimAndOff(),l=n.offsetHeight,r.style.width=n.offsetWidth+16+"px",r.style.top=s.Top+l+"px",r.style.left=s.Left+"px",r.style.display="block",r.size=r.options.length<o?r.options.length:o,r.style.display="block"):r.style.display="none"}function e(n){n.onkeydown=function(n){var f,r=null,e=!0,s,t,o;if(window.event?(f=n.keyCode,r=window.event.srcElement,e=n.shiftKey):n&&(f=n.which,r=n.srcElement,e=n.shiftKey),s=r.displaycount,r.hidelist=!1,!e&&r&&(t=r.AutocompleteList,t)){if(f==13||f==9&&t.options.length>0&&t.value.length>=r.value.length){if(o=t.selectedIndex>-1?t.selectedIndex:0,t.options.length>0&&(u(r,t,o),r.AutocompleteList=null,t.Remove()),window.event&&f==13)window.event.returnValue=!1;else return;return}f==38?t.selectedIndex>0?t.options[t.selectedIndex-1].selected="selected":t.options[0].selected="selected":f==40?t.selectedIndex<t.options.length-1?t.options[t.selectedIndex+1].selected="selected":t.options[0].selected="selected":f==8&&i(n)}};n.onkeypress=function(n){i(n)};n.onmouseout=function(){t(n)};n.onmouseover=function(){n.hidelist=!1;r(n,n.value)};n.DataContainer&&n.DataObject&&(n.onblur=function(n){f(n)})}function o(n,t,i,r,u){n.datasource=t;n.valuemember=i;n.displaymember=r;n.displaycount=u?u:8;e(n)}function u(n,t,i){i=i?i:t.selectedIndex;n.value=t.options[i].text;n.SelectedValue=t.options[i].value}n.Hook=o}(AutoSuggest||(AutoSuggest={})),function(n){function f(n,t){for(var i=[],r=0;t>0;)i.Add("obj"+r.toString()),r++,t--;return i.Add(n),Function.apply(null,i)}var t,i,r,u;(function(n){n.DataSource="datasource";n.DisplayMember="displaymember";n.DisplayCount="displaycount";n.ValueMember="valuemember";n.Checked="checked";n.Radio="radio";n.OnMouseOver="onmouseover";n.OnMouseOut="onmouseout";n.OnFocus="onfocus";n.Formatting="formatting";n.ClassName="classname";n.InnerHtml="innerhtml";n.Value="value";n.For="for";n.ID="id";n.OnClick="onclick";n.Src="src";n.Href="href";n.Style="style";n.Action="action";n.Sort="sort"})(t=n.Targets||(n.Targets={})),function(n){n.WebApi="data-webapi";n.Pks="data-pks";n.Action="data-action";n.SelectedItemChanged="data-selecteditemchanged";n.SelectedItemClass="data-selecteditemclass";n.FormID="data-formid";n.Template="data-template";n.Auto="data-auto";n.AutoParameter="data-autoparameter"}(i=n.Attributes||(n.Attributes={})),function(t){function r(t){var r=t,f,u,i,e;r.dataset.webapi&&r.dataset.pks&&(f=r.dataset.webapi,u=null,t.dataset.autoparameter&&(i=t.dataset.autoparameter.toString().Trim(),i.indexOf("return")==-1&&(i="return "+i),i.indexOf(";")==-1&&(i+=";"),e=n.Return(i,0),u=e()),f.Get(u,function(n){r.Bind(n)}))}function u(n,t,i){var r=document.body.Get(function(n){return n.DataObject==t.DataObject&&n!=t&&n.DataContainer!=null});r.forEach(function(n){var t=n.DataContainer.DataBindings.Where(function(t){return t.ElementBindingIndex==n.ElementBindingIndex&&t.Fields.First(function(n){return n==i})!=null});t.length>0&&t.forEach(function(t){return t.Bind(n)})})}function f(t){var u=t.Get(function(n){return n.HasDataSet()}),i=u.First(function(t){return t.dataset[n.Targets.Action]!=null}),r;i&&(r=i.dataset[n.Targets.Action].toLowerCase(),["push","insert","unshift"].indexOf(r)>-1&&(i.dataset[n.Targets.Action]=r,n.Events.Insert(i)))}function e(t){var e,r,i,o,u,f;if(t.Pks==null){if(e=t.getAttribute(n.Attributes.WebApi),r=t.getAttribute(n.Attributes.Pks),t.WebApi=e,r)t.Pks=[],r.split(";").forEach(function(n){return t.Pks.Add(n.Trim())});else return alert("data-pks must be supplied to use Halberd binding"),!1;i=t.getAttribute(n.Attributes.Action);i?(i+="(obj0);",o=n.Return(i,1),t.ActionEvent=function(n){[n].Return(o)}):t.ActionEvent=function(){};u=t.getAttribute(n.Attributes.FormID);u&&(t.Form=u.Element());t.SelectedItemClass=t.getAttribute(n.Attributes.SelectedItemClass);f=t.getAttribute(n.Attributes.SelectedItemChanged);f&&(t.SelectedItemChanged=new Function("obj","sender","return "+f+"(obj, sender);"))}return!0}function o(t){var r=t.Get(function(n){return n.tagName=="LI"});return t.HeaderHtml=[],t.FooterHtml=[],r.forEach(function(r){var f=r.getAttribute(n.Attributes.Template),u;if(f){f=f.toLowerCase();switch(f){case"header":t.HeaderHtml.push(r.outerHTML);break;case"footer":t.FooterHtml.push(r.outerHTML);break;case"row":u=r;u.className&&(u.OriginalClass=u.className);i(t,u);t.RowHtml=r.outerHTML}}}),!0}function i(n,t){n.DataBindings=[];var r=t.Get(function(n){return n.HasDataSet()}),i=0;r.forEach(function(t){var r=t.GetDataSetAttributes().Ascend(function(n){return n.name});r.forEach(function(t){return n.DataBindings.Add(new DataBinding(n,i,t.name,t.value))});t.DataContainer=n;t.ElementBindingIndex=i;i++})}function s(n,t){n.DataBindings=[];t||(t=function(n){return n.HasDataSet()});var r=n.Get(t),i=0;r.forEach(function(t){var r=t.GetDataSetAttributes().Ascend(function(n){return n.name});r.forEach(function(t){return n.DataBindings.Add(new DataBinding(n,i,t.name,t.value))});t.DataContainer=n;t.ElementBindingIndex=i;i++})}function h(n,t,i){var u=t.Get(function(n){return n.HasDataSet()}),r=0;u.forEach(function(t){t.DataContainer=n;t.ElementBindingIndex=r;t.DataObject=i;n.DataBindings.Where(function(n){return n.ElementBindingIndex==r}).forEach(function(n){return n.Bind(t)});r++})}function c(n){var t,i;if(n.DataBindings){while(n.DataBindings.length>0)t=n.DataBindings.pop(),t.Dispose(),t=null;n.DataBindings=null}if(n.Pks){while(n.Pks.length>0)i=n.Pks.pop(),i=null;n.Pks=null}n.ActionEvent=null;n.WebApi=null;n.SelectedItemChanged=null;n.SelectedItemClass=null;n.Form=null;n.HeaderHtml=null;n.FooterHtml=null;n.RowHtml=null}t.Auto=r;t.Rebind=u;t.LookForInsert=f;t.Setup=e;t.SetupUl=o;t.SetupDataBindingsFromLi=i;t.SetupDataBindings=s;t.DataBind=h;t.Dispose=c}(r=n.DataContainer||(n.DataContainer={})),function(t){function i(n,t,i){var u=n[t],r=i;n[t]=typeof u=="number"?parseFloat(r):r}function r(t,r,u,f){var e=t;e.onchange||(e.onchange=function(){if(t.DataObject){var u=new ActionEvent(ActionType.Updating,t.DataObject,f,e.value);r.ActionEvent(u);u.Cancel?e.value=t.DataObject[f]:(i(t.DataObject,f,e.value),r.WebApi?r.WebApi.Put(t.DataObject,function(o){var s,h;o&&Is.Property(f,o)&&(e.value=o[f],i(t.DataObject,f,o[f].toString()),Thing.Merge(o,t.DataObject),s=t.DataContainer.DataBindings.First(function(t){return t.Target==n.Targets.Formatting}),s&&(h=s.ExecuteReturn(t),e.value=h),r.Rebind(f,t),u=new ActionEvent(ActionType.Updated,t.DataObject,f,e.value),r.ActionEvent(u))}):(r.Rebind(f,t),u=new ActionEvent(ActionType.Updated,t.DataObject,f,e.value),r.ActionEvent(u)));u=null}})}function u(n,t,i,r){var u=n;u.onclick||(u.onclick=function(){var i=u.checked?!0:!1,n;u.DataObject[r]!=i&&(n=new ActionEvent(ActionType.Updating,u.DataObject,r,i),t.ActionEvent(n),n.Cancel?u.checked=!i:(u.DataObject[r]=i,t.WebApi?t.WebApi.Put(u.DataObject,function(f){f&&Is.Property(r,f)&&(u.checked=f[r]?!0:!1,u.DataObject[r]=f[r],Thing.Merge(f,u.DataObject),t.Rebind(r,u),n=new ActionEvent(ActionType.Updated,u.DataObject,r,i),t.ActionEvent(n))}):(t.Rebind(r,u),n=new ActionEvent(ActionType.Updated,u.DataObject,r,i),t.ActionEvent(n))),n=null)})}function f(n,t,r,u){var f=n;f.onclick||(f.onclick=function(){var r=f.checked?!0:!1,n=new ActionEvent(ActionType.Updating,f.DataObject,u,f.value);t.ActionEvent(n);n.Cancel?f.checked=!r:(i(f.DataObject,u,f.value),t.WebApi?t.WebApi.Put(f.DataObject,function(i){i&&Is.Property(u,i)&&(f.DataObject[u]=i[u],f.DataObject[u]!=f.value&&(f.checked=!1),Thing.Merge(i,f.DataObject),t.Rebind(u,f),n=new ActionEvent(ActionType.Updated,f.DataObject,u,f.value),t.ActionEvent(n))}):(t.Rebind(u,f),n=new ActionEvent(ActionType.Updated,f.DataObject,u,f.value),t.ActionEvent(n)));n=null})}function e(n,t,i,r){n.onclick||(n.onclick=function(){var u={},i;t.Pks&&t.Pks.forEach(function(t){return u[t]=n.DataObject[t]});i=new ActionEvent(ActionType.Deleting,n.DataObject,r,null);t.ActionEvent(i);i.Cancel||(t.WebApi&&t.WebApi.Delete(u,function(){var s;i=new ActionEvent(ActionType.Deleted,n.DataObject,r,null);t.ActionEvent(i);var f=n.Parent(function(n){return n.tagName=="UL"}),e=f.First(function(t){return t.tagName=="LI"&&t.DataObject==n.DataObject}),u=f.DataObject,o=u.indexOf(n.DataObject);e.Remove();u.Remove(function(t){return t==n.DataObject});t.Form!=null&&u.length>0&&(o>=u.length&&(o=u.length-1),s=u[o],e=f.First(function(n){return n.tagName=="LI"&&n.DataObject==s}),f.SetSelected(s,e))}),i=null)})}function o(t){t.onclick||(t.onclick=function(){var f=t.Parent(function(n){return n.tagName=="LI"}),r=f.Parent(function(n){return n.tagName=="UL"}),e=r.DataObject,s=t.dataset[n.Targets.Action],i={},o=f.Get(function(n){return n.HasDataSet()&&n!=t}),u;o.forEach(function(n){var t=n.GetDataSetAttributes();t.forEach(function(t){var r;r=Is.Style(t.name)?n.style[t.name]:n[t.name];r&&(i[t.value]=r)})});u=new ActionEvent(ActionType.Inserting,i,"insert",null);r.ActionEvent(u);u.Cancel||r.WebApi&&r.WebApi.Post(i,function(f){var s,o,h;Thing.Merge(f,i);s=r.Pks.First(function(n){return!i[n]});s?alert("Missing primary keys from: "+JSON.stringify(i)):(o=null,t.dataset[n.Targets.Action]=="unshift"?(e.unshift(i),o=r.First(function(n){return n.tagName=="LI"&&n.TemplateType!="header"})):(e.push(i),o=r.First(function(n){return n.tagName=="LI"&&n.TemplateType=="footer"})),h=r.InsertAndBind(i,o),r.SetSelected(i,h),u=new ActionEvent(ActionType.Inserted,i,"insert",null),r.ActionEvent(u))})})}t.SetObjectValue=i;t.OnChange=r;t.Checked=u;t.Radio=f;t.Delete=e;t.Insert=o}(u=n.Events||(n.Events={}));n.Return=f;n.Happened}(Binding||(Binding={})),function(n){function t(n,t){var i="div".CreateElement(this.Format.Cell),r,u;return i.Date=n,i.title=n.format("mmmm dd, yyyy"),n!=null&&(r="a".CreateElement({innerHTML:n.getDate(),href:"javascript:"}),r.onclick=function(){var n,r;t.SelectedDate.getMonth()!=i.Date.getMonth()&&t.MonthChangeEvent?(t.RequestedDate=i.Date,t.MonthChanged=!0,t.MonthChangeEvent(i.Date,t.MonthChangedCallBack)):(n=t.SelectedDateControl,t.Set(i.Date),t.SelectedDateControl&&t.FormatCellMethod&&(r=t.FormatCellMethod(i.Date),i.className=r),n&&t.FormatCellMethod&&(r=t.FormatCellMethod(n.Date),n.className=r),t.SelectedDateControl=i)},i.appendChild(r),n.Equals(t.SelectedDate)&&(t.SelectedDateControl=i),t.FormatCellMethod&&(u=t.FormatCellMethod(i.Date),u&&(i.className=u))),i}function i(n,t){var i="div".CreateElement(this.Format.Cell),u,r;if(Thing.Merge(t,i),n&&n.substring)i.innerHTML=n;else if(Is.Array(n))for(u=0;u<n.length;u++)r=n[u],Is.String(r)?i.appendChild("span".CreateElement({innerHTML:r})):Is.Element(r)&&i.appendChild(r);else Is.Element(n)&&i.appendChild(n);return i}function r(n,t,i){var u="li".CreateElement(),f="div".CreateElement(),r;return u.appendChild(f),r="a".CreateElement({innerHTML:n,href:"javascript:"}),f.appendChild(r),r.onclick=function(){i(t)},u}function u(n,t){var r="li".CreateElement(),u="div".CreateElement(),i;return r.appendChild(u),i="a".CreateElement({innerHTML:n,href:"javascript:"}),u.appendChild(i),i.onclick=function(){t(n)},r}function f(t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){t.SelectedDate||(t.SelectedDate=(new Date).SmallDate());t.MonthClass=h;t.YearClass=c;t.NavigateClass=l;t.DefaultDateClass=a;t.MonthChangeEvent=u;t.HeaderClass=f;t.DateRowClass=s;t.RowsClass=e;t.DayOfWeekClass=o;t.RequestedDate=new Date;t.SelectedDateChanged=i;t.FormatCellMethod=r;t.MonthPopupClass=v;t.YearPopupClass=y;t.SelectedDateControl=null;t.PreviousDateControl=null;t.CalendarBuiltEvent=p;t.MonthChanged=!1;t.MonthChangedCallBack=function(n){n&&(t.Set(t.RequestedDate),t.MonthChanged=!1)};t.Set=function(n){var r=n.getMonth()!=t.SelectedDate.getMonth()||n.getFullYear()!=t.SelectedDate.getFullYear(),i;t.SelectedDate=n;r?t.Build():(i=t.First(function(t){return t.tagName.toLowerCase()=="div"&&t.Date&&t.Date.Equals(n)}),i&&(t.SelectedDateControl=i));t.SelectedDateChanged&&t.SelectedDateChanged(t.SelectedDate)};t.MonthNameClicked=function(n){if(n!=t.SelectedDate.getMonth()){var i=n,r=t.SelectedDate.getFullYear(),u=new Date(r,i,1);for(t.RequestedDate=new Date(r,i,t.SelectedDate.getDate());t.RequestedDate.getMonth()>u;)t.RequestedDate=t.RequestedDate.AddDays(-1);t.MonthChangeEvent?(t.MonthChanged=!0,t.MonthChangeEvent(t.RequestedDate,t.MonthChangedCallBack)):t.Set(t.RequestedDate)}Dialog.Hide("workoutMonthpopup".Element())};t.YearNameClicked=function(n){if(n!=t.SelectedDate.getFullYear()){var i=n,r=t.SelectedDate.getMonth();for(t.RequestedDate=new Date(i,r,t.SelectedDate.getDate());t.RequestedDate.getMonth()>t.SelectedDate.getMonth();)t.RequestedDate=t.RequestedDate.AddDays(-1);t.MonthChangeEvent?(t.MonthChanged=!0,t.MonthChangeEvent(t.RequestedDate,t.MonthChangedCallBack)):t.Set(t.RequestedDate)}Dialog.Hide("workoutYearpopup".Element())};t.Build=function(){var h,c,l,f,e,a,o,v,u;t.Clear();h="ul".CreateElement(n.Format.Table);t.HeaderClass&&(h.className=t.HeaderClass);c="a".CreateElement({innerHTML:"&lt;",href:"javascript:"});c.onclick=function(){var n=t.SelectedDate.getMonth(),i=t.SelectedDate.getFullYear();for(n==0?(i--,n=11):n--,t.RequestedDate=new Date(i,n,t.SelectedDate.getDate());t.RequestedDate.getMonth()==t.SelectedDate.getMonth();)t.RequestedDate=t.RequestedDate.AddDays(-1);t.MonthChangeEvent?(t.MonthChanged=!0,t.MonthChangeEvent(t.RequestedDate,t.MonthChangedCallBack)):t.Set(t.RequestedDate)};l="a".CreateElement({innerHTML:"&gt;",href:"javascript:"});l.onclick=function(){var n=t.SelectedDate.getMonth(),i=t.SelectedDate.getFullYear();for(n==11?(n=0,i++):n++,t.RequestedDate=new Date(i,n,t.SelectedDate.getDate());t.RequestedDate.getMonth()>t.SelectedDate.getMonth()+1;)t.RequestedDate=t.RequestedDate.AddDays(-1);t.MonthChangeEvent?(t.MonthChanged=!0,t.MonthChangeEvent(t.RequestedDate,t.MonthChangedCallBack)):t.Set(t.RequestedDate)};t.NavigateClass&&(c.className=t.NavigateClass,l.className=t.NavigateClass);f="a".CreateElement({innerHTML:t.SelectedDate.MonthName(),marginRight:".25em",href:"javascript:"});f.onclick=function(){var u=["January","February","March","April","May","June","July","August","September","October","November","December"],r="ul".CreateElement({id:"workoutMonthpopup",Target:f}),i;for(t.MonthPopupClass?r.className=t.MonthPopupClass:r.Set(n.Format.Table),i=0;i<u.length;i++)r.appendChild(n.MonthItem(u[i],i,t.MonthNameClicked));Dialog.Popup(r)};e="a".CreateElement({innerHTML:t.SelectedDate.getFullYear(),marginLeft:".25em",href:"javascript:"});e.onclick=function(){var i=[],u=(new Date).getFullYear(),r=t.SelectedDate.getFullYear(),o,f;r>=u?(i.push(u-4),i.push(u-3),i.push(u-2),i.push(u-1),i.push(+u)):(o=u-r,o>1?(i.push(r-2),i.push(r-1),i.push(r),i.push(r+1),i.push(r+2)):(i.push(r-3),i.push(r-2),i.push(r-1),i.push(r),i.push(r+1)));f="ul".CreateElement({id:"workoutYearpopup",Target:e});t.YearPopupClass?f.className=t.YearPopupClass:f.Set(n.Format.Table);i.forEach(function(i){return f.appendChild(n.YearItem(i,t.YearNameClicked))});Dialog.Popup(f)};t.MonthClass&&(f.className=t.MonthClass);t.YearClass&&(e.className=t.YearClass);a="li".CreateElement(n.Format.Row);h.appendChild(a);a.AddRange(n.HeaderCell(c),n.HeaderCell([f,e]),n.HeaderCell(l));t.appendChild(h);o="ul".CreateElement(n.Format.Table);t.RowsClass&&(o.className=t.RowsClass);t.appendChild(o);var s=0,y=t.SelectedDate.DaysInMonth(),i=new Date(t.SelectedDate.getFullYear(),t.SelectedDate.getMonth(),1),r="li".CreateElement(n.Format.Row);for(o.appendChild(r),t.DayOfWeekClass&&(r.className=t.DayOfWeekClass),r.AddRange(n.HeaderCell("Su"),n.HeaderCell("M"),n.HeaderCell("T"),n.HeaderCell("W"),n.HeaderCell("Th"),n.HeaderCell("F"),n.HeaderCell("Sa")),r="li".CreateElement(n.Format.Row),u=i.getDay(),u!=0&&(i=i.AddDays(u*-1)),v=!1;!v;)s==0&&(t.DateRowClass&&(r.className=t.DateRowClass),o.appendChild(r)),u=i.getDay(),u==6&&(i.getMonth()>t.SelectedDate.getMonth()||i.getFullYear()>t.SelectedDate.getFullYear()||i.getDate()==y)&&(v=!0),s==u&&(r.appendChild(n.DateCell(i,t)),i=i.AddDays(1)),s++,s==7&&(r="li".CreateElement(n.Format.Row),s=0);t.CalendarBuiltEvent&&t.CalendarBuiltEvent()};t.Build();t.SelectedDateChanged&&t.SelectedDateChanged(t.SelectedDate)}n.DateCell=t;n.HeaderCell=i;n.Format={Table:{display:"table",borderCollapse:"collapse",listStyleType:"none",margin:"0px 0px",padding:"0px 0px",width:"100%"},Row:{display:"table-row",listStyle:"none"},Cell:{display:"table-cell",textAlign:"center"}};n.MonthItem=r;n.YearItem=u;n.Create=f}(Calendar||(Calendar={})),function(n){function t(n){return n&&n.substring&&n.indexOf("em")&&(n=n.replace("em",""),n=parseFloat(n)),n}function i(n){return n?t(n)*16:0}n.EmToFloat=t;n.EmValueToPixelValue=i}(Convert||(Convert={})),function(n){var t,i;(function(n){function t(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n}function i(t,i,r){if(arguments.length!=1||Object.prototype.toString.call(t)!="[object String]"||/\d/.test(t)||(i=t,t=undefined),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date");i=String(n.Masks[i]||i||n.Masks["default"]);i.slice(0,4)=="UTC:"&&(i=i.slice(4),r=!0);var u=r?"getUTC":"get",h=t[u+"Date"](),c=t[u+"Day"](),e=t[u+"Month"](),l=t[u+"FullYear"](),f=t[u+"Hours"](),a=t[u+"Minutes"](),v=t[u+"Seconds"](),o=t[u+"Milliseconds"](),s=r?0:t.getTimezoneOffset(),y={d:h,dd:n.Pad(h),ddd:n.i18n.dayNames[c],dddd:n.i18n.dayNames[c+7],m:e+1,mm:n.Pad(e+1),mmm:n.i18n.monthNames[e],mmmm:n.i18n.monthNames[e+12],yy:String(l).slice(2),yyyy:l,h:f%12||12,hh:n.Pad(f%12||12),H:f,HH:n.Pad(f),M:a,MM:n.Pad(a),s:v,ss:n.Pad(v),l:n.Pad(o,3),L:n.Pad(o>99?Math.round(o/10):o),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:r?"UTC":(String(t).match(n.Timezone)||[""]).pop().replace(n.TimezoneClip,""),o:(s>0?"-":"+")+n.Pad(Math.floor(Math.abs(s)/60)*100+Math.abs(s)%60,4)};return i.replace(n.Token,function(n){return n in y?y[n]:n.slice(1,n.length-1)})}n.Token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g;n.Timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;n.TimezoneClip=/[^-+\dA-Z]/g;n.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};n.Masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};n.Pad=t;n.Format=i})(t=n.DateTime||(n.DateTime={})),function(n){function t(n){n+="";for(var i=n.split("."),t=i[0],u=i.length>1?"."+i[1]:"",r=/(\d+)(\d{3})/;r.test(t);)t=t.replace(r,"$1,$2");return t+u}function i(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i}n.Comma=t;n.Pad=i}(i=n.Number||(n.Number={}))}(Formatters||(Formatters={})),function(n){function r(n){return t.prototype.toString.call(n)==="[object Array]"}function u(){var n=window;return n.chrome}function f(n){return n&&n.tagName}function e(n){for(var i in n)if(t.prototype.hasOwnProperty.call(n,i))return!1;return!0}function o(){return navigator?/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent):!1}function s(n){return n&&{}.toString.call(n)==="[object Function]"}function h(){return'\v'=="v"}function c(n){return n==null?!0:n.length==0?!0:void 0}function l(n){return/^-{0,1}\d*\.{0,1}\d+$/.test(n)}function t(n){return n&&typeof n=="object"}function a(n,t){try{return typeof t[n]!="undefined"}catch(i){window.Exception&&window.Exception(i)}return!1}function i(n){return typeof n=="string"}function v(n){return n in document.body.style}function y(n){try{if(t.prototype.toString.call(n)==="[object Date]")return isNaN(n.getTime())?!1:!0;if(i(n)){var u=new Date(n),r=n.split("/"),f=parseInt(r[2]),e=parseInt(r[0].indexOf("0")==0?r[0].substring(1):r[0]),o=parseInt(r[1].indexOf("0")==0?r[1].substring(1):r[1]);return u.getFullYear()!=f?!1:u.getMonth()!=e-1?!1:u.getDate()!=o?!1:!0}}catch(s){window.Exception&&window.Exception(s)}return!1}function p(n){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(n)==!1?!1:!0}n.Array=r;n.Chrome=u;n.Element=f;n.EmptyObject=e;n.FireFox=o;n.Function=s;n.InternetExplorer=h;n.NullOrEmpty=c;n.Numeric=l;n.Object=t;n.Property=a;n.String=i;n.Style=v;n.ValidDate=y;n.ValidEmail=p}(Is||(Is={})),function(n){function t(n){switch(n){case 1:case 0:return String(n);default:return"0"+String(n)+"/"}}function i(n,t){return t==0?"0"+String(n)+"/":n>3?"01/0"+String(n)+"/":n==3?"01/3":"1"+String(n)+"/"}function r(n,t){return n>3?t+"0"+String(n)+"/":t+String(n)}function u(n,t,i){return i==3&&n>1?String(t).substring(0,String(t).length-1)+"03/"+String(n):t+n+"/"}function f(n,t){var i=!0,r=null,f=null,e=!0,u,o,s;return window.event?(r=n.keyCode,f=n.srcElement,e=n.shiftKey,n=window.event):n&&(r=n.which,f=n.srcElement,e=n.shiftKey),u=String.fromCharCode(r),t?u==" "&&(i=!1,n.cancel=!0):(o=/[a-z0-9]/gi,s=o.test(u),s||(i=!1,n.cancel=!0)),window.event&&(n.returnValue=i),i}function e(t){var r=null,i=null,h=!0,f,c,s,o,e;window.event?(r=t.keyCode,i=t.srcElement,h=t.shiftKey):t&&(r=t.which,i=t.srcElement,h=t.shiftKey);i.onclick||(i.onclick=function(){i.focus();i.select()});i.onfocus||(i.onfocus=function(){i.select()});i.onblur||(i.onblur=function(){if(i.value.length!=0){if(i.value.length==8){var n=i.value.substring(6,8);i.value=n.indexOf("9")==0?i.value.substring(0,6)+"19"+n:i.value.substring(0,6)+"20"+n}Is.ValidDate(i.value)||(alert("Please enter a valid date."),i.focus())}});var l=String.fromCharCode(r),u=!0,a=i.value.length;if(r>=n.ADCONTROL_ZERO&&r<=n.ADCONTROL_NINE){i.value.length==10&&(i.value="");f=parseInt(l);switch(a){case 0:u=!1;i.value=n.GetZeroLengthString(f);break;case 1:u=!1;i.value=n.GetOneLengthString(f,i.value);break;case 3:u=!1;i.value=n.GetThreeLengthString(f,i.value);break;case 4:u=!1;i.value=n.GetFourLengthString(f,i.value,i.PreviousValue)}return i.PreviousValue=f,event&&(event.returnValue=u),u}if(r==13){if(i.tabIndex)for(c=parseInt(i.tabIndex)+1,s=document.getElementsByTagName("*"),o=0;o<s.length;o++)if(e=s[o],e.tabIndex==c){e.focus();e.type&&e.type=="text"&&e.select();break}}else return!1}function o(n,t,i){var f=null,r=null,l=!0,a,c,o,e,s;window.event?(f=n.keyCode,r=n.srcElement,l=n.shiftKey):n&&(f=n.which,r=n.srcElement,l=n.shiftKey);var h=String.fromCharCode(f),u=!0,v=r.value.length,y=r.value.indexOf(".")>-1;if(f==13){if(r.tabIndex&&i)for(a=parseInt(r.tabIndex)+1,c=document.getElementsByTagName("*"),o=0;o<c.length;o++)if(e=c[o],e.tabIndex==a){e.focus();e.type&&e.type=="text"&&e.select();break}}else f>=48&&f<=57?u=!0:h=="."&&t?r.value.indexOf(".")>-1&&(s="",window.getSelection?s=window.getSelection().toString():document.getSelection&&(s=document.getSelection().toString()),s.length!=r.value.length&&(u=!1)):h!="."||t?h=="-"?r.value!=""&&(u=!1):u=!1:u=!1;return event&&(event.returnValue=u),u}n.ADCONTROL_ZERO=48;n.ADCONTROL_ONE=49;n.ADCONTROL_TWO=50;n.ADCONTROL_THREE=51;n.ADCONTROL_FOUR=52;n.ADCONTROL_FIVE=53;n.ADCONTROL_SIX=54;n.ADCONTROL_SEVEN=55;n.ADCONTROL_EIGHT=56;n.ADCONTROL_NINE=57;n.GetZeroLengthString=t;n.GetOneLengthString=i;n.GetThreeLengthString=r;n.GetFourLengthString=u;n.NoBlanks=f;n.ShortDate=e;n.Number=o}(KeyPress||(KeyPress={})),function(n){function t(){try{return localStorage?!0:!1}catch(n){return!1}}function i(t){n.CanStore()&&localStorage.removeItem(t)}function r(){n.CanStore()&&localStorage.clear()}function u(t,i){if(n.CanStore()){var r=JSON.stringify(i);localStorage.setItem(t,r)}}function f(t){try{var i=null;return!i&&n.CanStore()&&(Is.Property(t,localStorage)&&(i=localStorage.getItem(t)),Is.String(i))?(i=JSON.parse(i),Ajax.ConvertProperties(i),i):i}catch(r){throw r;}return null}n.CanStore=t;n.Remove=i;n.Clear=r;n.Save=u;n.Get=f}(Local||(Local={})),function(n){function t(t,i,r){var e=i.match(t),u,f;if(e)if(u=[],e.forEach(function(t){u.push({Match:t,PropertyName:t.replace(n.StandardBindingWrapper,"")})}),Is.Array(r))u.forEach(function(n){for(var t=0;t<r.length;t++)if(r[t]&&r[t].hasOwnProperty(n.PropertyName)){i=i.replace(n.Match,r[t][n.PropertyName]);break}});else for(f=0;f<u.length;f++)r&&r.hasOwnProperty(u[f].PropertyName)&&(i=i.replace(u[f].Match,r[u[f].PropertyName]));return i}n.StandardBindingWrapper=/{|}/g;n.StandardBindingPattern=/{(\w+(\.\w+)*)}/g;n.MethodPattern=/\w+(\.\w+)*\(/g;n.ObjectAndMethod=/{(\w+(\.\w+)*)}\.\w+\(\)/g;n.ObjectMethod=/\.\w+\(\)/g;n.ParameterPattern=/\(.*(,\s*.*)*\)/g;n.ZDate=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/g;n.UTCDate=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;n.Replace=t}(RegularExpression||(RegularExpression={})),function(n){function t(n,t){var i,r;for(i in n)r=n[i],r&&(t[i]=n[i]);return t}function i(n){var t={};for(var i in n)t[i]=n[i];return t}function r(n,t,i){var f=[],u,r;t||(t="Name");i||(i="Value");for(u in n)r={},r[t]=u,r[i]=n[u],f.push(r);return f}function u(n,t){for(var r,u="",i=0;i<t.length;i++)Is.Property(t[i],n)&&(r=n[t[i]],r&&(u+=r.toString()));return u}function f(n,t,i){return n[t]?n[t]:i?i:null}n.Merge=t;n.Clone=i;n.ToArray=r;n.Concat=u;n.GetValueIn=f}(Thing||(Thing={})),function(n){var t;(function(n){function t(n,t){for(var i in n)if(n[i]==t)return i;return null}function i(n,t){t=t.toLowerCase();for(var i in n)if(i.toLowerCase()==t)return n[i];return null}n.EnumName=t;n.EnumValue=i})(t=n.Is||(n.Is={}))}(What||(What={})),function(n){function i(){for(var r=[],i=0;i<arguments.length;i++)r[+i]=arguments[i];t(r);window.addEventListener("popstate",n.BackEvent)}function r(){return n.Routes!=null&&n.Routes.length>0?n.Routes[n.Routes.length-1]:null}function t(t){t.forEach(function(t){n.Views.Remove(function(n){return n.Key==t.Key});n.Views.Add(t)})}function u(){if(n.Routes.length>1&&n.Routes.splice(n.Routes.length-1,1),n.Routes.length>0){var t=n.Routes[n.Routes.length-1],i=n.Views.First(function(n){return n.Key==t.Key});t.Show()}}function f(t,i){var r=n.Views.First(function(n){return n.Key==t}),u;r&&(u=new Route(t,i,r),n.Routes.push(u),window.PushState(null,r.UrlTitle(this),r.Url(u)),u.Show())}n.Routes=[];n.Views=[];n.Initialize=i;n.CurrentRoute=r;n.AddViews=t;n.BackEvent=u;n.Load=f}(ViewManager||(ViewManager={}));Array.prototype.Return=function(n){switch(this.length){case 0:return n();case 1:return n(this[0]);case 2:return n(this[0],this[1]);case 3:return n(this[0],this[1],this[2]);case 4:return n(this[0],this[1],this[2],this[3]);case 5:return n(this[0],this[1],this[2],this[3],this[4]);case 6:return n(this[0],this[1],this[2],this[3],this[4],this[5]);case 7:return n(this[0],this[1],this[2],this[3],this[4],this[5],this[6]);default:return null}return null};Array.prototype.Select=function(n){for(var r,u,i=[],t=0;t<this.length;t++)r=this[t],u=n(r),i.push(u);return i};Array.prototype.Ascend=function(n){return this.sort(function(t,i){return n(t)<n(i)?-1:n(t)>n(i)?1:0})};Array.prototype.Descend=function(n){return this.sort(function(t,i){return n(t)<n(i)?1:n(t)>n(i)?-1:0})};Array.prototype.First=function(n){var t,i,r;if(n){for(t=0;t<this.length;t++)if(i=this[t],r=n(i),r)return this[t]}else if(this.length>0)return this[0];return null};Array.prototype.Last=function(n){var t,i,r;if(n){if(this.length>0)for(t=this.length-1;t>0;){if(i=this[t],r=n(i),r)return this[t];t--}}else if(this.length>0)return this[this.length-1];return null};Array.prototype.Remove=function(n){var t,i;if(n&&this.length>0)for(t=this.length-1;t>0;)i=n(this[t]),i&&this.splice(t,1),t--;return this};Array.prototype.Where=function(n){for(var i,u,r=[],t=0;t<this.length;t++)i=this[t],u=n(i),u&&r.push(i);return r};Array.prototype.Min=function(n){for(var i,t=null,r=0;r<this.length;r++)i=this[r],i[n]&&(t==null?t=i[n]:t>i[n]&&(t=i[n]));return t};Array.prototype.Max=function(n){for(var t,i=0,r=0;r<this.length;r++)t=this[r],t[n]&&i<t[n]&&(i=t[n]);return i};Array.prototype.Take=function(n){for(var i=[],t=0;t<n;t++)if(this.length>t)i.push(this[t]);else break;return i};Array.prototype.Add=function(n){Is.Array(n)||(n=[n]);for(var t=0;t<n.length;t++)this.push(n[t])};Array.prototype.GroupBy=function(){for(var r,u,n,e,f,o,t=[],i=0;i<arguments.length;i++)t[+i]=arguments[i];for(r=[],u=0;u<this.length;u++)if(n=this[u],e=r.First(function(i){for(var u=!0,r=0;r<t.length;r++)if(i[t[r]]!=n[t[r]]){u=!1;break}return u}),e)e.Grouping.push(n);else{f={Grouping:[]};for(o in n)f[o]=n[o];f.Grouping.push(n);r.push(f)}return r};Array.prototype.IndexOf=function(n){var t=-1,u=Is.Function(n),i,r;if(u){for(t=0;t<this.length;t++)if(n(this[t]))return t}else for(t=0;t<this.length;t++){i=!0;for(r in n)if(n[r]!=this[t][r]){i=!1;break}if(i)return t}return t};Array.prototype.Insert=function(n,t){t==undefined&&(t=0);t>this.length&&(t=this.length);this.splice(t,0,n)};Array.prototype.Sum=function(n){for(var i,r=0,t=0;t<this.length;t++)i=this[t],i[n]&&(r+=i[n]);return r};Array.prototype.ToArray=function(n){for(var i,r=[],t=0;t<this.length;t++)i=this[t],i[n]&&r.push(i[n]);return r};Date.prototype.Year=function(){return this.getFullYear()};Date.prototype.Month=function(){return this.getMonth()+1};Date.prototype.Date=function(){return this.getDate()};Date.prototype.DayOfWeek=function(){var n=this.getDay();switch(n){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:default:return"Saturday"}};Date.prototype.Clone=function(){return this.AddDays(0)};Date.prototype.format=function(n,t){return Formatters.DateTime.Format(this,n,t)};Date.prototype.ShortDate=function(){return this.format("mm/dd/yyyy")};Date.prototype.SmallDate=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0)};Date.prototype.Equals=function(n){return this.getMonth()==n.getMonth()&&this.getFullYear()==n.getFullYear()&&this.getDate()==n.getDate()};Date.prototype.AddDays=function(n){return this.Add(0,0,n)};Date.prototype.Add=function(n,t,i,r,u,f){n=n?n:0;t=t?t:0;i=i?i:0;r=r?r:0;u=u?u:0;f=f?f:0;var e=this.getFullYear()+n,o=this.getMonth()+t,s=this.getDate()+i,h=this.getHours()+r,c=this.getMinutes()+u,l=this.getSeconds()+f,a=this.getMilliseconds();return new Date(e,o,s,h,c,l,a)};Date.prototype.DaysInMonth=function(){return 32-new Date(this.getFullYear(),this.getMonth(),32).getDate()};Date.prototype.MonthName=function(){switch(this.getMonth()){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return"Unknown"}};Date.prototype.DaysDiff=function(n){var t=Math.abs(this-n);return t/864e5};Date.prototype.MinuteDiff=function(n){var t=Math.abs(this-n);return t/36e5};HTMLElement.prototype.Get=function(n,t,i){var e,u,r,f,o;for(i==null&&(i=[]),e=this,u=e.children,r=0;r<u.length;r++)u[r].nodeType==1&&u[r].tagName.toLowerCase()!="svg"&&(f=u[r],o=n(f),o&&i.push(f),!t&&f.Get&&f.Get(n,t,i));return i};HTMLElement.prototype.First=function(n){for(var u,r,f,e=this,i=e.children,t=0;t<i.length;t++)if(i[t].nodeType==1&&i[t].tagName.toLowerCase()!="svg"&&(u=i[t],n(u)))return u;for(r=null,t=0;t<i.length;t++)if(i[t].nodeType==1&&i[t].tagName.toLowerCase()!="svg"&&(f=i[t],f.First&&(r=f.First(n),r)))return r;return null};HTMLElement.prototype.Parent=function(n){for(var t=this;t&&t.parentNode;)if(t=t.parentNode,n(t))return t;return null};HTMLElement.prototype.Delete=function(n){var i=this,t=i.First(n);t&&t.Remove()};HTMLElement.prototype.Clear=function(n,t){var f=this,i=f.childNodes,r,u;if(n)for(r=i.length-1;r>0;)i[r].nodeType==1?(u=i[r],n(u)?f.removeChild(u):!t&&u.Clear&&u.Clear(n,t)):f.removeChild(i[r]),r--;else while(i.length>0)f.removeChild(i[0])};HTMLElement.prototype.AddRange=function(){for(var t,i=[],n=0;n<arguments.length;n++)i[+n]=arguments[n];return t=this,i.forEach(function(n){return t.appendChild(n)}),t};HTMLElement.prototype.Remove=function(){this.parentNode.removeChild(this)};HTMLElement.prototype.AddHtml=function(n){var t=n.CreateElementFromHtml();return this.appendChild(t),t};HTMLElement.prototype.SetClass=function(n){this.className=null;this.className=n};HTMLElement.prototype.OffSet=function(){for(var t=0,i=0,n=this;n&&!isNaN(n.offsetLeft)&&!isNaN(n.offsetTop);)t+=n.offsetLeft-n.scrollLeft,i+=n.offsetTop-n.scrollTop,n=n.offsetParent;return{top:i,left:t}};HTMLElement.prototype.Dimensions=function(){var n={width:0,height:0};return n.width=this.offsetWidth,n.height=this.offsetHeight,n};HTMLElement.prototype.DimAndOff=function(){var n={Height:0,Width:0,Top:0,Left:0},t=this.Dimensions(),i=this.OffSet();return n.Height=t.height,n.Width=t.width,n.Top=i.top,n.Left=i.left,n};HTMLElement.prototype.AddListener=function(n,t){this.addEventListener?this.addEventListener(n,t):this.attachEvent(n,t)};HTMLElement.prototype.Set=function(n){var r=this,t,i,u;if(n)for(t in n)i=t,i!="cls"&&i!="className"?(u=Is.Style(i),u?r.style[i]=n[t]:t=="style"?n.style.cssText&&(r.style.cssText=n.style.cssText):r[i]=n[t]):r.SetClass(n[t]);return r};HTMLElement.prototype.HasDataSet=function(){var n,t;if(this.dataset){n=this.dataset;for(t in n)return!0}return!1};HTMLElement.prototype.GetDataSetAttributes=function(){var i=[],n,t;if(this.dataset){n=this.dataset;for(t in n)i.Add({name:t,value:n[t]})}return i};HTMLFormElement.prototype.Dispose=function(){Binding.DataContainer.Dispose(this)};HTMLFormElement.prototype.Bind=function(n){var t=this,i;this.DataObject=n;Binding.DataContainer.Setup(this)&&(this.DataBindings==null?(Binding.DataContainer.SetupDataBindings(t),i=t.Get(function(n){return n.HasDataSet()})):i=t.Get(function(n){return n.ElementBindingIndex!=null}),i.forEach(function(i){i.DataObject=n;t.DataBindings.Where(function(n){return n.ElementBindingIndex==i.ElementBindingIndex}).forEach(function(n){return n.Bind(i)})}),i=null,Binding.Happened&&Binding.Happened(t))};HTMLFormElement.prototype.Rebind=function(n,t){Binding.DataContainer.Rebind(this,t,n)};HTMLInputElement.prototype.AutoSuggest=function(n,t,i,r){AutoSuggest.Hook(this,n,t,i,r)};HTMLLIElement.prototype.Rebind=function(){var n=this;return Binding.DataContainer.DataBind(n.DataContainer,n,n.DataObject),n};HTMLSelectElement.prototype.AddOptions=function(n,t,i,r){var u=this,f,e;if(Is.Array(n))f=n,i&&t?f.forEach(function(n){u.options[u.options.length]=new Option(n[i],n[t]);r&&n[t]==r&&(u.options[u.options.length-1].selected="true")}):f.length>1&&Is.String(f[0])&&f.forEach(function(n){u.options[u.options.length]=new Option(n,n);r&&n==r&&(u.options[u.options.length-1].selected="true")});else if(n)for(e in n)Is.Function(e)&&(u.options[u.options.length]=new Option(e,e),r&&r==e&&(u.options[u.options.length-1].selected="selected"));return u};HTMLSelectElement.prototype.AddOptionsViaObject=function(n,t,i){var r=this,f,u;if(i)for(u in n)r.options[r.options.length]=new Option(u,n[u]),t&&t==n[u]&&(r.options[r.options.length-1].selected="selected");else{f=[];for(u in n)Is.Numeric(n[u])&&f.push(u);f=f.sort();f.forEach(function(i){r.options[r.options.length]=new Option(i,n[i]);t!=undefined&&t==n[i]&&(r.options[r.options.length-1].selected="selected")})}};HTMLUListElement.prototype.Dispose=function(){Binding.DataContainer.Dispose(this)};HTMLUListElement.prototype.Bind=function(n){var t=this,i,r,u;t.AlreadySetup||(t.AlreadySetup=!0,Binding.DataContainer.Setup(t),Binding.DataContainer.SetupUl(t));Is.Array(n)?i=n:(i=[],i.push(n));t.DataObject=i;t.Clear();Ajax.ShowProgress();t.style.display=="none"&&(t.style.display="table");t.HeaderHtml&&t.HeaderHtml.forEach(function(n){var i=t.AddHtml(n);i.DataContainer=t;i.TemplateType="header";Binding.DataContainer.LookForInsert(i)});t.AsyncPosition=0;r=function(){t.FooterHtml&&t.FooterHtml.forEach(function(n){var i=t.AddHtml(n);i.DataContainer=t;i.TemplateType="footer";Binding.DataContainer.LookForInsert(i);t.DataObject&&t.DataObject.length>0&&t.SetSelected(t.DataObject[0],t.First(function(n){return n.DataObject==t.DataObject[0]}))});Ajax.HideProgress();Binding.Happened&&Binding.Happened(t)};u=function(){var n=t.DataObject[t.AsyncPosition];t.InsertAndBind(n);t.AsyncPosition=t.AsyncPosition+1;t.AsyncPosition==t.DataObject.length?setTimeout(r,0):setTimeout(u,0)};n&&n.length&&t.RowHtml?setTimeout(u,0):r()};HTMLUListElement.prototype.Rebind=function(n,t){Binding.DataContainer.Rebind(this,t,n)};HTMLUListElement.prototype.InsertRow=function(n,t){t?this.insertBefore(n,t):this.appendChild(n)};HTMLUListElement.prototype.InsertAndBind=function(n,t){var r=this,i=r.RowHtml.CreateElementFromHtml();return i.DataObject=n,i.DataContainer=r,i.OriginalClass=i.className?i.className:null,i.TemplateType="row",i.onclick=function(){r.SetSelected(i.DataObject,i)},r.InsertRow(i,t),Binding.DataContainer.DataBind(r,i,n),i};HTMLUListElement.prototype.AddRow=function(n,t){var r=this,i,e;if(r.DataObject.Add(n),i=r.RowHtml.CreateElementFromHtml(),i.DataObject=n,i.DataContainer=r,i.OriginalClass=i.className?i.className:null,i.TemplateType="row",i.onclick=function(){r.SetSelected(i.DataObject,i)},!t)for(var o=r.Get(function(n){return n.tagName=="LI"}),u=o.length-1,f=!0;f;)e=o[u],e.TemplateType=="footer"?t=e:f=!1,u--,u==0&&(f=!1);return r.InsertRow(i,t),Binding.DataContainer.DataBind(r,i,n),Binding.Happened&&Binding.Happened(r),i};HTMLUListElement.prototype.SetSelected=function(n,t){var i=this;i.DataObject&&(i.SelectedElement&&(i.SelectedElement.className=null,i.SelectedElement.OriginalClass&&(i.SelectedElement.className=i.SelectedElement.OriginalClass)),i.SelectedElement=t,i.SelectedItemClass&&(i.SelectedElement.className=null,i.SelectedElement.className=i.SelectedItemClass),i.SelectedItemChanged&&i.SelectedItemChanged(n,i.SelectedElement),i.Form&&i.Form.Bind(n))};String.prototype.Trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.TrimCharacters=function(n,t){var i=this,r;return n&&i.indexOf(n)==0&&(i=i.substring(1)),t&&(r=i.substring(i.length-1),r==t&&(i=i.substring(0,i.length-1))),i};String.prototype.Element=function(){var n=document.getElementById(this.toString());return n?n:null};String.prototype.Form=function(){var n=document.getElementById(this.toString());return n?n:null};String.prototype.List=function(){var n=document.getElementById(this.toString());return n?n:null};String.prototype.Input=function(){var n=document.getElementById(this.toString());return n?n:null};String.prototype.DropDown=function(){var n=document.getElementById(this.toString());return n?n:null};String.prototype.CreateElement=function(n){var t=document.createElement(this);return n&&t.Set(n),t};String.prototype.CreateElementFromHtml=function(){for(var n="div".CreateElement({innerHTML:this});n.children.length>0;)return n.children[n.children.length-1]};String.prototype.Put=function(n,t){Ajax.HttpAction("PUT",this,n,t)};String.prototype.Delete=function(n,t){Ajax.HttpAction("DELETE",this,n,t)};String.prototype.Post=function(n,t){Ajax.HttpAction("POST",this,n,t)};String.prototype.Get=function(n,t,i){var r=this,u,e,f;if(n)if(Is.Array(n)){for(u=0;u<n.length;u++)r+="/"+n[u].toString();Ajax.HttpAction("GET",r,null,t,i)}else{r+="/";e="?";for(f in n)n[f]&&(r+=e+f+"="+n[f].toString(),e="&");Ajax.HttpAction("GET",r,null,t,i)}else Ajax.HttpAction("GET",r,null,t,i)};Window.prototype.Exception=function(){for(var r,t,n=[],i=0;i<arguments.length;i++)n[+i]=arguments[i];if(n.length==1){for(r={},t=0;t<n.length;t++)r["parameter"+t]=n[t];alert(JSON.stringify(r))}else n.length>1?alert(JSON.stringify(n[0])):alert("Unknown error")};Window.prototype.Show=function(n,t){ViewManager.Load(n,t)};Window.prototype.Dimensions=function(){var n={Height:0,Width:0},t=window;return typeof t.innerWidth!="undefined"?(n.Width=t.innerWidth,n.Height=t.innerHeight):typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0?(n.Width=document.documentElement.clientWidth,n.Height=document.documentElement.clientHeight):(n.Width=document.getElementsByTagName("body")[0].clientWidth,n.Height=document.getElementsByTagName("body")[0].clientHeight),n};Window.prototype.PushState=function(n,t,i){history&&history.pushState&&(Is.Array(i)?i="/"+i.join("/"):i?i.indexOf("/")!=0&&(i="/"+i):i="/",history.pushState(n,t,i))};Window.prototype.SplitPathName=function(){var n=window.location.pathname,t;return n=n.substring(1),t=n.charAt(n.length-1),t=="/"&&(n=n.substring(0,n.length-1)),n.split("/")};Window.prototype.PageLoaded=function(n,t){if(document.readyState==="complete")n();else if(window.onload){var i=window.onload,r=function(){i(t);n()};window.onload=r}else window.onload=function(){n()}};WindowLoad();
//# sourceMappingURL=ULFBERHT.min.js.map
